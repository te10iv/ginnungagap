# draw.io（diagrams.net） Cheat Sheet

インフラ構成図づくりに必要な操作だけをシンプルにまとめた決定版。


# 私的メモ
- Excelみたいに「四角い図形の中に直接テキストを書く」ことは draw.io でも完全に可能。(「図形＋文字図形をくっつける」必要はありません。)

    - 図形（四角・円・AWSアイコンなど）をダブルクリックするだけでテキスト入力できる。
Excel と同じ感覚で「図形＋テキスト一体型」で扱えます。

    - ▶ 図形の中に文字を入れる方法（Excelと同じ）
四角形などの図形を配置
図形を ダブルクリックまたは Enter キー
そのまま文字を入力


---

## 基本操作

| 操作内容 | メニュー操作 | ショートカット（Win / Mac） |
|---------|-------------|---------------------------|
| 新規図作成 | ファイル → 新規 | - |
| 保存 | ファイル → 名前を付けて保存 | `Ctrl + S` / `Cmd + S` |
| 元に戻す | 編集 → 元に戻す | `Ctrl + Z` / `Cmd + Z` |
| やり直し | 編集 → やり直す | `Ctrl + Y` / `Cmd + Shift + Z` |
| 拡大 | 表示 → 拡大 | `Ctrl + +` / `Cmd + +` |
| 縮小 | 表示 → 縮小 | `Ctrl + -` / `Cmd + -` |
| 全体表示（Fit to Screen） | 表示 → 画面に合わせる | `Ctrl + Shift + H` / `Cmd + Shift + H` |

---

## 図形操作（配置・整列）

| 操作内容 | メニュー操作 | ショートカット（Win / Mac） |
|---------|-------------|---------------------------|
| 左揃え | 配置 → 左揃え | - |
| 右揃え | 配置 → 右揃え | - |
| 上揃え | 配置 → 上揃え | - |
| 下揃え | 配置 → 下揃え | - |
| 水平中央揃え | 配置 → 中央揃え（水平） | - |
| 垂直中央揃え | 配置 → 中央揃え（垂直） | - |
| 均等配置（横） | 配置 → 横方向に整列 | - |
| 均等配置（縦） | 配置 → 縦方向に整列 | - |

---

## 前面・背面（レイヤー順序）

| 操作内容 | メニュー操作 | ショートカット（Win / Mac） |
|---------|-------------|---------------------------|
| 最前面へ移動 | 配置 → 最前面へ移動 | `Ctrl + Shift + F` / `Cmd + Shift + F` |
| 前面へ移動 | 配置 → 前面へ移動 | `Ctrl + F` / `Cmd + Option + F` |
| 背面へ移動 | 配置 → 背面へ移動 | `Ctrl + B` / `Cmd + Option + B` |
| 最背面へ移動 | 配置 → 最背面へ移動 | `Ctrl + Shift + B` / `Cmd + Shift + B` |

---

## 線・コネクタ操作

| 操作内容 | メニュー操作 | ショートカット（Win / Mac） |
|---------|-------------|---------------------------|
| 直線コネクタ | 図形 → コネクタ（直線） | - |
| 曲線コネクタ | 図形 → コネクタ（曲線） | - |
| 直角コネクタ（正方形線） | 図形 → コネクタ（直角） | - |
| コネクタ矢印変更 | 右ペイン → スタイル → 矢印 | - |
| コネクタの途中に折れ点追加 | コネクタを選択 → 追加したい位置をドラッグ | - |

---

## グループ化・ロック

| 操作内容 | メニュー操作 | ショートカット（Win / Mac） |
|---------|-------------|---------------------------|
| グループ化 | 配置 → グループ化 | `Ctrl + G` / `Cmd + G` |
| グループ解除 | 配置 → グループ解除 | `Ctrl + Shift + G` / `Cmd + Shift + G` |
| ロック | 右クリック → ロック | - |
| ロック解除 | 右クリック → ロック解除 | - |

---

## 図形・テキスト編集

| 操作内容 | メニュー操作 | ショートカット（Win / Mac） |
|---------|-------------|---------------------------|
| 図形のコピー | 編集 → コピー | `Ctrl + C` / `Cmd + C` |
| 図形の貼り付け | 編集 → 貼り付け | `Ctrl + V` / `Cmd + V` |
| 図形の削除 | 編集 → 削除 | `Delete` / `Delete` |
| テキスト編集開始 | 図形をダブルクリック | `Enter` |
| テキスト編集確定 | - | `Ctrl + Enter` / `Cmd + Enter` |

---

## 便利機能（インフラ構成図で必須）

| 操作内容 | メニュー操作 | ショートカット（Win / Mac） |
|---------|-------------|---------------------------|
| 図形のスタイルコピー | 図形 → ペイント形式 → スタイルコピー | `Alt + Shift + P` / `Option + Shift + P` |
| 図形のサイズ統一 | 複数選択 → 右ペイン「サイズ」 | - |
| ガイド線 ON/OFF | 表示 → ガイド | - |
| スナップ ON/OFF | 表示 → グリッドにスナップ | - |
| アイコン検索（AWS/GCP/Azure） | 左パネル → 検索（例: "EC2"） | `Ctrl + K` / `Cmd + K` |

---

## エクスポート（納品・資料用）

| エクスポート内容 | メニュー操作 | 備考 |
|----------------|-------------|------|
| PNG で出力 | ファイル → エクスポート → PNG | XML埋め込み可能＝編集可能 |
| SVG で出力 | ファイル → エクスポート → SVG | Markdown と相性◎ |
| PDF で出力 | ファイル → エクスポート → PDF | 社内外資料に最適 |
| HTML で出力 | ファイル → エクスポート → HTML | 単体ビュー用 |

---

## 保存形式（特徴）

| フォーマット | 特徴 |
|-------------|------|
| `.drawio`（XML） | マスター保存用、最も軽く完全編集可能 |
| `.png` | 資料用。XML埋め込みで編集可 |
| `.svg` | Web/Wiki 用。軽くて劣化なし |
| `.html` | 1ファイルで誰でも見れる |

---

## Tips：よく使う組み合わせ

### 複数の図形を綺麗に整列させる

1. 整列させたい図形を全て選択（`Shift + クリック` または ドラッグで範囲選択）
2. 配置 → 左揃え（または上揃え）
3. 配置 → 横方向に整列（または縦方向に整列）

### AWSアイコンを素早く探す

1. 左パネルの検索ボックスに「EC2」「S3」などサービス名を入力
2. AWS公式アイコンセットから自動で表示される
3. ドラッグ＆ドロップで配置

### スタイルを統一する

1. ベースとなる図形のスタイルを設定（色、線の太さなど）
2. ベース図形を選択 → 図形 → ペイント形式 → スタイルコピー
3. 適用したい図形をクリック

### 編集可能なPNG画像を作る

1. ファイル → エクスポート → PNG
2. 「XMLを埋め込む」にチェック
3. この画像をdraw.ioで開くと編集可能

---

## よくある質問

**Q: グリッドを消したい**
A: 表示 → グリッド のチェックを外す

**Q: 図形が勝手にスナップして動かしにくい**
A: 表示 → グリッドにスナップ のチェックを外す

**Q: コネクタが図形にくっつかない**
A: 図形の端にある青い×マークにコネクタの端を近づける

**Q: 背景色を変えたい**
A: 図 → 背景 → 色を選択

**Q: 複数ページを作りたい**
A: 下部の「+」ボタンで新しいページを追加

---

## おすすめ設定（初回のみ）

### 起動時の設定

1. **オートセーブを有効化**
   - ファイル → 環境設定 → 自動保存 → ON

2. **デフォルトのスタイルを設定**
   - よく使う色や線の太さを設定
   - 図形 → スタイルをデフォルトとして設定

3. **グリッドのサイズ調整**
   - 表示 → グリッド → サイズを10pxに設定（推奨）

---

## まとめ

### 最低限覚えるべき操作

| 操作 | ショートカット（Win） | ショートカット（Mac） |
|------|---------------------|---------------------|
| 保存 | `Ctrl + S` | `Cmd + S` |
| コピー | `Ctrl + C` | `Cmd + C` |
| 貼り付け | `Ctrl + V` | `Cmd + V` |
| 元に戻す | `Ctrl + Z` | `Cmd + Z` |
| グループ化 | `Ctrl + G` | `Cmd + G` |
| アイコン検索 | `Ctrl + K` | `Cmd + K` |

### 効率アップのコツ

1. **ショートカットを覚える** - 特に整列系とグループ化
2. **スタイルコピーを活用** - 統一感のある図を素早く作成
3. **AWSアイコン検索** - `Ctrl/Cmd + K` で素早くアイコンを探す
4. **テンプレートを作る** - よく使う構成をテンプレート化して再利用
5. **XML埋め込みPNG** - 編集可能な画像として保存・共有

---

これだけ覚えれば、インフラ構成図作成がサクサク進みます！
