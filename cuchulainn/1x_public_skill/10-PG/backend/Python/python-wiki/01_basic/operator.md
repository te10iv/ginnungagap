# 演算子

## 1. 要点まとめ

- 算術演算子（`+`, `-`, `*`, `/`, `//`, `%`, `**`）で数値計算を行う
- 比較演算子（`==`, `!=`, `<`, `>`, `<=`, `>=`）で値を比較する
- 論理演算子（`and`, `or`, `not`）で真偽値を操作する
- 代入演算子（`=`, `+=`, `-=`など）で変数に値を代入する
- 同一性演算子（`is`, `is not`）でオブジェクトの同一性を確認する
- メンバーシップ演算子（`in`, `not in`）で要素の存在を確認する

## 2. 詳細解説

Pythonには様々な演算子があり、これらを使って計算や比較、論理演算などを行います。

算術演算子は数値計算に使用します。`+`（加算）、`-`（減算）、`*`（乗算）、`/`（除算）は一般的ですが、Pythonには`//`（整数除算）、`%`（剰余）、`**`（べき乗）もあります。Python 3では`/`は常に浮動小数点数を返すため、整数除算が必要な場合は`//`を使います。

比較演算子は2つの値を比較して真偽値（`True`または`False`）を返します。`==`は等価性、`!=`は非等価性、`<`, `>`, `<=`, `>=`は大小関係を比較します。

論理演算子は真偽値を操作します。`and`は両方が`True`のとき`True`、`or`は少なくとも一方が`True`のとき`True`、`not`は真偽値を反転します。

代入演算子は変数に値を代入します。`+=`, `-=`, `*=`, `/=`などは、変数の現在の値に対して演算を行ってから代入する短縮記法です。

同一性演算子（`is`, `is not`）は、値の等価性ではなく、オブジェクトの同一性（同じメモリ上のオブジェクトか）を確認します。

## 3. サンプルコード

```python
# 算術演算子
a = 10
b = 3
print(a + b)  # 13 (加算)
print(a - b)  # 7 (減算)
print(a * b)  # 30 (乗算)
print(a / b)  # 3.333... (除算、浮動小数点数)
print(a // b)  # 3 (整数除算)
print(a % b)  # 1 (剰余)
print(a ** b)  # 1000 (べき乗)

# 比較演算子
x = 10
y = 20
print(x == y)  # False (等価)
print(x != y)  # True (非等価)
print(x < y)  # True (小なり)
print(x > y)  # False (大なり)
print(x <= y)  # True (以下)
print(x >= y)  # False (以上)

# 論理演算子
p = True
q = False
print(p and q)  # False (論理積)
print(p or q)  # True (論理和)
print(not p)  # False (否定)

# 代入演算子
num = 10
num += 5  # num = num + 5 と同じ
print(num)  # 15
num -= 3  # num = num - 3 と同じ
print(num)  # 12
num *= 2  # num = num * 2 と同じ
print(num)  # 24

# 同一性演算子
list1 = [1, 2, 3]
list2 = [1, 2, 3]
list3 = list1
print(list1 == list2)  # True (値が等しい)
print(list1 is list2)  # False (異なるオブジェクト)
print(list1 is list3)  # True (同じオブジェクト)

# メンバーシップ演算子
numbers = [1, 2, 3, 4, 5]
print(3 in numbers)  # True
print(10 in numbers)  # False
print(3 not in numbers)  # False
```

## 4. 注意点・落とし穴

- **`==`と`is`の違い**: `==`は値の等価性、`is`はオブジェクトの同一性を比較します。`None`との比較は`is None`を使うのが推奨されます
- **整数除算**: Python 3では`/`は浮動小数点数を返します。整数除算が必要な場合は`//`を使いましょう
- **文字列の連結**: 文字列同士は`+`で連結できますが、文字列と数値は連結できません。`str()`で変換するか、f-stringを使いましょう
- **論理演算子の短絡評価**: `and`と`or`は短絡評価（ショートサーキット）を行います。左側の式で結果が確定した場合、右側の式は評価されません
- **浮動小数点数の比較**: 浮動小数点数同士の`==`比較は、丸め誤差の影響で期待通りに動作しない場合があります

## 5. 演習問題

1. 変数`x`と`y`に数値を代入し、それらの和、差、積、商を計算して表示してください
2. 変数`age`に年齢を代入し、18歳以上かどうかを判定するプログラムを作成してください
3. リスト`[1, 2, 3, 4, 5]`に値`3`が含まれているか、`in`演算子を使って確認してください

## 6. 解答例

```python
# 1. 四則演算
x = 20
y = 4
print(f"和: {x + y}")  # 24
print(f"差: {x - y}")  # 16
print(f"積: {x * y}")  # 80
print(f"商: {x / y}")  # 5.0

# 2. 年齢判定
age = 20
if age >= 18:
    print("18歳以上です")
else:
    print("18歳未満です")

# 3. メンバーシップ演算子
numbers = [1, 2, 3, 4, 5]
if 3 in numbers:
    print("3はリストに含まれています")
else:
    print("3はリストに含まれていません")
```
