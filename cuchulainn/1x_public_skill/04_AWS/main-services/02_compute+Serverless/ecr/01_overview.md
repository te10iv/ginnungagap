# ECR 概要

## 1. サービスの役割

Amazon ECR（Elastic Container Registry）は、Dockerコンテナイメージを保存・管理・デプロイするためのマネージドコンテナレジストリサービスです。EC2やECS、EKS、Lambdaなどで使用するコンテナイメージを安全に保存できます。

## 2. 主なユースケース

- Dockerコンテナイメージの保存と管理
- ECSやEKSでのコンテナデプロイ
- CI/CDパイプラインでのイメージビルドとプッシュ
- プライベートなコンテナイメージの管理
- イメージのバージョン管理とタグ付け
- イメージの脆弱性スキャン

## 3. 他サービスとの関係

- **ECS**: ECRからコンテナイメージを取得してタスクを起動
- **EKS**: ECRからコンテナイメージを取得してPodを起動
- **Lambda**: コンテナイメージベースのLambda関数
- **CodeBuild**: CI/CDパイプラインでイメージをビルドしてECRにプッシュ
- **IAM**: イメージへのアクセス制御
- **CloudWatch**: イメージのプッシュ・プルイベントのログ

## 4. 料金のざっくりイメージ

- ストレージ: GBあたり$0.10/月（最初の500MB/月は無料）
- データ転送: リージョン外への転送で料金発生
- イメージのスキャン: 無料（基本スキャン）
- **注意**: S3ベースなので、S3の料金体系に準じる

## 5. 初心者がまず覚えるべきポイント

- Docker HubのAWS版のようなサービス
- リポジトリごとにイメージを管理
- イメージタグでバージョン管理（latest、v1.0.0など）
- IAMでアクセス制御（プライベートレジストリ）
- イメージの脆弱性スキャン機能
- ライフサイクルポリシーで古いイメージを自動削除
- Docker CLIでプッシュ・プル可能（`docker push`、`docker pull`）
- リージョンごとに作成する必要がある

