# PrivateLink マネージドコンソールでのセットアップ

## 作成するもの

VPC Endpoint Serviceを作成し、NLB経由でサービスを公開します。他のVPCからプライベートにアクセスできるサービスエンドポイントを構築します。

## セットアップ手順（サービス提供側）

1. **NLBを作成**
   - EC2コンソールで「ロードバランサー」→「ネットワークロードバランサーを作成」
   - 基本的な設定を完了（事前にNLBが必要）

2. **VPC Endpoint Serviceを作成**
   - VPCコンソールで「エンドポイントサービス」を選択
   - 「エンドポイントサービスを作成」をクリック
   - **名前タグ**: `my-endpoint-service` を入力
   - **ロードバランサータイプ**: ネットワークロードバランサーを選択
   - **ロードバランサー**: 作成済みのNLBを選択
   - **承認が必要**: 必要に応じて設定
   - 「エンドポイントサービスを作成」をクリック

3. **サービス名を確認**
   - 作成されたエンドポイントサービスのサービス名をメモ

## セットアップ手順（サービス利用側）

4. **VPC Endpointを作成**
   - VPCコンソールで「エンドポイント」を選択
   - 「エンドポイントを作成」をクリック
   - **サービスカテゴリ**: その他のエンドポイントサービスを選択
   - **サービス名**: サービス提供側から受け取ったサービス名を入力
   - **VPC**: 利用側のVPCを選択
   - **サブネット**: エンドポイントを配置するサブネットを選択
   - **セキュリティグループ**: 適切なセキュリティグループを選択
   - 「エンドポイントを作成」をクリック

## 補足

- サービス提供側と利用側の両方で設定が必要です
- セキュリティグループでアクセス制御が可能です

