# ALB マネージドコンソールでのセットアップ

## 作成するもの

Application Load Balancerを作成し、複数のEC2インスタンスにトラフィックを分散します。パスベースルーティングで、異なるパスを異なるターゲットグループにルーティングできるようにします。

## セットアップ手順

1. **ロードバランサーコンソールを開く**
   - EC2コンソールで「ロードバランサー」を選択

2. **ロードバランサーを作成**
   - 「ロードバランサーを作成」をクリック
   - **ロードバランサータイプ**: Application Load Balancerを選択
   - 「作成」をクリック

3. **基本設定**
   - **名前**: `my-alb` を入力
   - **スキーム**: インターネット向けを選択
   - **IPアドレスタイプ**: IPv4を選択
   - **VPC**: 作成済みのVPCを選択
   - **マッピング**: 複数のAZとサブネットを選択

4. **セキュリティグループを設定**
   - 新しいセキュリティグループを作成または既存のものを選択
   - HTTP（ポート80）とHTTPS（ポート443）を許可

5. **リスナーとルーティングを設定**
   - **プロトコル**: HTTPを選択
   - **ポート**: 80を選択
   - **デフォルトアクション**: ターゲットグループを選択
   - **ターゲットグループ**: 新しいターゲットグループを作成
     - **名前**: `my-target-group` を入力
     - **ターゲットタイプ**: インスタンスを選択
     - **プロトコル**: HTTPを選択
     - **ポート**: 80を選択
     - **ヘルスチェック**: デフォルト設定のまま

6. **ターゲットを登録**
   - 作成したターゲットグループにEC2インスタンスを登録

7. **確認と作成**
   - 設定を確認
   - 「ロードバランサーを作成」をクリック

## 補足

- ALBのDNS名でアクセス可能になります
- パスベースルーティングやホストベースルーティングを後で追加可能です

