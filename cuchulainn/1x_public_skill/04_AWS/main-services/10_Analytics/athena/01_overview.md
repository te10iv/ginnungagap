# Athena 概要

## 1. サービスの役割

Amazon Athenaは、S3に保存されたデータを標準SQLで直接クエリできるサーバーレスインタラクティブ分析サービスです。データウェアハウスやETL処理を構築することなく、S3のデータを分析できます。

## 2. 主なユースケース

- S3のログファイルの分析（CloudTrail、VPC Flow Logs、アプリケーションログなど）
- データレイクのクエリ
- アドホック分析
- ビッグデータ分析
- ETL処理の代替
- コスト効率的なデータ分析

## 3. 他サービスとの関係

- **S3**: データソースとして使用
- **Glue**: データカタログとスキーマ定義
- **QuickSight**: ビジュアライゼーション
- **CloudWatch Logs**: ログの分析
- **Kinesis Data Firehose**: ストリーミングデータの分析
- **Lambda**: クエリ結果の処理

## 4. 料金のざっくりイメージ

- **データスキャン**: TBあたり$5（最初の10TB/月は無料）
- **注意**: スキャンしたデータ量に応じて課金（パーティション分割でコスト削減）

## 5. 初心者がまず覚えるべきポイント

- サーバーレスSQLクエリサービス（S3のデータを直接クエリ）
- 標準SQL（Prestoベース）でクエリ
- データカタログ（GlueまたはAthena）でスキーマを定義
- パーティション分割でコスト削減（スキャンするデータ量を削減）
- 複数のファイル形式に対応（CSV、JSON、Parquet、ORCなど）
- 圧縮形式（Parquet、ORC）でコスト削減
- クエリ結果をS3に保存可能
- ワークグループでクエリの実行を管理
- 結果の暗号化（KMS）
- コスト最適化のため、必要な列のみ選択、パーティション分割、圧縮形式の使用を推奨

