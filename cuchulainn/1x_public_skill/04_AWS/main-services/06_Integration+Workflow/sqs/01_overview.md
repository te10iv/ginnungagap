# SQS 概要

## 1. サービスの役割

Amazon SQS（Simple Queue Service）は、完全マネージドのメッセージキューサービスです。マイクロサービス、分散システム、サーバーレスアプリケーション間でメッセージを送受信し、非同期処理と負荷分散を実現します。

## 2. 主なユースケース

- マイクロサービス間の非同期通信
- タスクキュー（バッチ処理、ジョブ処理）
- イベント駆動型アーキテクチャ
- 負荷分散（メッセージを複数のワーカーに分散）
- デカップリング（サービス間の疎結合）
- リトライ処理（失敗したメッセージを再処理）
- バッファリング（急激なトラフィック増加に対応）

## 3. 他サービスとの関係

- **Lambda**: メッセージを受信して処理
- **SNS**: メッセージをキューに配信
- **EventBridge**: イベントをキューに配信
- **EC2, ECS**: ワーカーがメッセージを処理
- **CloudWatch**: キューのメトリクス監視
- **Dead Letter Queue**: 処理に失敗したメッセージを保存

## 4. 料金のざっくりイメージ

- **リクエスト**: 最初の100万リクエスト/月は無料、以降$0.40/100万リクエスト
- **データ転送**: リージョン外への転送で料金発生
- **注意**: リクエスト数に応じて課金（メッセージのサイズや保持期間は関係なし）

## 5. 初心者がまず覚えるべきポイント

- メッセージキューサービス（非同期処理）
- **Standard Queue**: 無制限のスループット、メッセージが重複する可能性あり
- **FIFO Queue**: 厳密な順序保証、重複なし、スループットが制限される
- 可視性タイムアウト（メッセージが処理中は他のコンシューマーから見えない）
- メッセージの保持期間（最大14日間）
- デッドレターキュー（処理に失敗したメッセージを保存）
- ロングポーリング（コスト削減とレイテンシー削減）
- バッチ処理（最大10メッセージを一度に取得）
- メッセージ属性でメタデータを付与

