# Step Functions 概要

## 1. サービスの役割

AWS Step Functionsは、サーバーレスワークフローを構築・実行するサービスです。複数のAWSサービス（Lambda、ECS、Batchなど）を組み合わせて、ビジュアルなワークフローを作成し、エラーハンドリング、リトライ、並列処理などを管理します。

## 2. 主なユースケース

- マイクロサービスアーキテクチャのオーケストレーション
- ETL（Extract, Transform, Load）パイプライン
- データ処理ワークフロー
- 承認ワークフロー
- バッチ処理ジョブのオーケストレーション
- 長時間実行されるワークフロー
- エラーハンドリングとリトライ処理

## 3. 他サービスとの関係

- **Lambda**: ワークフローのステップとして実行
- **ECS, Batch**: コンテナやバッチジョブの実行
- **DynamoDB, S3**: データの保存と取得
- **SNS, SQS**: 通知とメッセージング
- **EventBridge**: イベントのルーティング
- **CloudWatch**: ワークフローのログとメトリクス
- **IAM**: ワークフローの実行権限

## 4. 料金のざっくりイメージ

- **Standard**: ステート遷移あたり$0.025/1,000（最初の4,000/月は無料）
- **Express**: 実行あたり$1.00/100万実行（最初の1,000実行/月は無料）
- **注意**: Standardは長時間実行可能、Expressは高スループット向け

## 5. 初心者がまず覚えるべきポイント

- サーバーレスワークフローサービス（オーケストレーション）
- **Standard**: 長時間実行可能、実行履歴を保持、コストが高い
- **Express**: 高スループット、実行履歴は保持されない、コストが安い
- ステートマシン（ワークフローの定義）をJSONで記述
- ステップタイプ（Task、Choice、Wait、Parallel、Mapなど）
- エラーハンドリングとリトライ処理
- 並列処理（Parallelステート）
- 条件分岐（Choiceステート）
- ビジュアルエディタでワークフローを可視化
- 実行履歴でワークフローの実行状況を確認

