# SNS 概要

## 1. サービスの役割

Amazon SNS（Simple Notification Service）は、プッシュ通知サービスです。トピックにメッセージを発行すると、複数のサブスクライバー（メール、SMS、HTTPエンドポイント、SQS、Lambdaなど）に同時に配信されます。Pub/Sub（パブリッシュ/サブスクライブ）パターンを実現します。

## 2. 主なユースケース

- アラーム通知（CloudWatchアラームからメールやSMSを送信）
- イベント通知（S3、DynamoDBなどのイベントを通知）
- マイクロサービス間の非同期通信
- モバイルアプリへのプッシュ通知
- システムイベントの通知
- ワークフローのトリガー（Lambda、SQSなど）

## 3. 他サービスとの関係

- **CloudWatch**: アラームの通知先
- **Lambda**: メッセージを受信して処理
- **SQS**: メッセージをキューに配信
- **S3, DynamoDB**: イベントの通知
- **EventBridge**: イベントのルーティング
- **SES**: メールの送信
- **モバイルアプリ**: プッシュ通知の送信

## 4. 料金のざっくりイメージ

- **リクエスト**: 最初の100万リクエスト/月は無料、以降$0.50/100万リクエスト
- **モバイルプッシュ通知**: 通知あたり$0.50/100万通知
- **SMS**: メッセージあたり$0.00645（米国内）、$0.00750（国際）
- **注意**: リクエスト数とSMSの送信数に応じて課金

## 5. 初心者がまず覚えるべきポイント

- プッシュ通知サービス（Pub/Subパターン）
- トピック（メッセージの配信先）にメッセージを発行
- サブスクライバー（メール、SMS、HTTP、SQS、Lambdaなど）に配信
- 1つのメッセージを複数のサブスクライバーに同時配信
- フィルターポリシーでメッセージをフィルタリング
- デッドレターキュー（配信失敗したメッセージを保存）
- メッセージ属性でメタデータを付与
- リージョンごとにトピックを作成
- CloudWatchアラームの通知先としてよく使用される

