# WAF マネージドコンソールでのセットアップ

## 作成するもの

WAF Web ACLを作成し、CloudFrontディストリビューションを保護します。SQLインジェクションやXSS攻撃から保護します。

## セットアップ手順

1. **WAFコンソールを開く**
   - AWSマネージメントコンソールで「WAF」を検索して選択

2. **Web ACLを作成**
   - 「Web ACLを作成」をクリック

3. **Web ACLの詳細を設定**
   - **名前**: `my-web-acl` を入力
   - **リソースタイプ**: CloudFrontディストリビューションを選択
   - **リソース**: 保護するCloudFrontディストリビューションを選択

4. **ルールを追加**
   - 「ルールを追加」をクリック
   - **ルールタイプ**: マネージドルールを選択
   - **AWSマネージドルール**: 「AWSManagedRulesCommonRuleSet」を選択
   - 「ルールを追加」をクリック

5. **ルールの優先順位を設定**
   - ルールの優先順位を確認

6. **デフォルトアクションを設定**
   - **デフォルトアクション**: 許可を選択

7. **確認と作成**
   - 設定を確認
   - 「次へ」→「Web ACLを作成」をクリック

8. **CloudFrontにアソシエート**
   - 作成したWeb ACLを選択
   - 「関連付け」タブで「リソースを関連付け」をクリック
   - CloudFrontディストリビューションを選択
   - 「関連付け」をクリック

## 補足

- Web ACLの変更はCloudFrontに反映されるまで数分かかります
- マネージドルールセットで一般的な攻撃から保護できます

