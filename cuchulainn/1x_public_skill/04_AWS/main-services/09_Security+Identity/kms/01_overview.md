# KMS 概要

## 1. サービスの役割

AWS Key Management Service（KMS）は、暗号化キーを管理するマネージドサービスです。データの暗号化と復号化に使用する暗号化キーを作成、管理、制御し、AWSサービスやアプリケーションで使用できます。

## 2. 主なユースケース

- データの暗号化（S3、EBS、RDSなど）
- アプリケーションの暗号化キー管理
- 暗号化キーのローテーション
- 暗号化キーへのアクセス制御
- コンプライアンス要件を満たすための暗号化
- カスタマーマネージドキー（CMK）の管理
- データキーの生成と管理

## 3. 他サービスとの関係

- **S3**: オブジェクトの暗号化（SSE-KMS）
- **EBS**: ボリュームの暗号化
- **RDS, Aurora**: データベースの暗号化
- **Secrets Manager**: シークレットの暗号化
- **CloudWatch Logs**: ログの暗号化
- **Lambda**: 環境変数の暗号化
- **IAM**: キーへのアクセス制御

## 4. 料金のざっくりイメージ

- **カスタマーマネージドキー（CMK）**: キーあたり$1/月
- **リクエスト**: 最初の20,000リクエスト/月は無料、以降$0.03/10,000リクエスト
- **注意**: AWSマネージドキーは無料

## 5. 初心者がまず覚えるべきポイント

- 暗号化キーの管理サービス
- **カスタマーマネージドキー（CMK）**: ユーザーが作成・管理するキー
- **AWSマネージドキー**: AWSが管理するキー（無料）
- キーポリシーでキーへのアクセスを制御
- キーのローテーション（自動または手動）
- リージョンごとにキーを作成
- キーの削除には待機期間（7〜30日）がある
- データキー（DEK）とマスターキー（CMK）の違い
- エンベロープ暗号化（データキーをCMKで暗号化）
- CloudTrailでキーの使用を監査

