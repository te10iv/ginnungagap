# KMS マネージドコンソールでのセットアップ

## 作成するもの

KMSカスタマーマネージドキー（CMK）を作成し、S3バケットの暗号化に使用します。データの暗号化を管理します。

## セットアップ手順

1. **KMSコンソールを開く**
   - AWSマネージメントコンソールで「KMS」を検索して選択

2. **キーを作成**
   - 「カスタマー管理型のキー」を選択
   - 「キーを作成」をクリック

3. **キーの設定**
   - **キータイプ**: 対称を選択
   - **キーの使用目的**: 暗号化と復号化を選択
   - **キーの別名**: `my-encryption-key` を入力
   - **説明**: 任意の説明を入力

4. **キー管理権限を定義**
   - **キー管理権限**: IAMユーザーまたはロールを選択
   - キーを管理できるユーザー/ロールを選択

5. **キーの使用権限を定義**
   - **キーの使用権限**: IAMユーザーまたはロールを選択
   - キーを使用できるユーザー/ロールを選択

6. **確認と作成**
   - 設定を確認
   - 「次へ」→「キーを作成」をクリック

7. **S3バケットで使用**
   - S3バケットの暗号化設定で、作成したKMSキーを選択

## 補足

- キーのローテーションを有効にすると、自動的にローテーションされます
- キーの削除には待機期間（7〜30日）があります

