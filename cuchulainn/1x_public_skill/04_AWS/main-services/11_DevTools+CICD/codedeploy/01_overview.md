# CodeDeploy 概要

## 1. サービスの役割

AWS CodeDeployは、アプリケーションのデプロイメントを自動化するサービスです。EC2インスタンス、Lambda関数、ECSサービス、オンプレミスサーバーにアプリケーションをデプロイし、デプロイメント戦略（ローリング、ブルー/グリーンなど）を管理します。

## 2. 主なユースケース

- EC2インスタンスへのアプリケーションデプロイ
- Lambda関数のデプロイ
- ECSサービスのデプロイ
- オンプレミスサーバーへのデプロイ
- ブルー/グリーンデプロイメント
- ローリングデプロイメント
- カナリアデプロイメント

## 3. 他サービスとの関係

- **EC2, ECS, Lambda**: デプロイメント先
- **CodeBuild**: ビルド成果物をデプロイ
- **CodePipeline**: CI/CDパイプラインのデプロイステージ
- **S3**: デプロイメントパッケージの保存
- **ALB**: ブルー/グリーンデプロイメントでのトラフィック切り替え
- **CloudWatch**: デプロイメントのメトリクスとログ

## 4. 料金のざっくりイメージ

- **EC2/オンプレミス**: デプロイメントあたり$0.02（最初の1,000デプロイメント/月は無料）
- **Lambda/ECS**: 無料
- **注意**: EC2/オンプレミスへのデプロイのみ課金

## 5. 初心者がまず覚えるべきポイント

- アプリケーションデプロイメントの自動化サービス
- **EC2/オンプレミス**: CodeDeployエージェントが必要
- **Lambda/ECS**: エージェント不要（ネイティブ統合）
- デプロイメント戦略（AllAtOnce、HalfAtATime、OneAtATime、Custom）
- ブルー/グリーンデプロイメント（ALBと連携）
- デプロイメント設定（デプロイメント方法を定義）
- アプリケーション指定（デプロイメント対象を定義）
- ロールバック機能（デプロイメント失敗時に自動ロールバック）
- ライフサイクルイベントフック（BeforeInstall、AfterInstallなど）
- デプロイメントの通知（SNS経由）

